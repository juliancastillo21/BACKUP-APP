<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gestionar Actividades</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 30px;
            margin-top: 30px;
        }
        h1 {
            color: #007bff;
            margin-bottom: 30px;
        }
        .table {
            margin-top: 30px;
        }
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
        }
        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">Gestionar Actividades</h1>
        
        <form action="{{ url_for('gestionar_actividades') }}" method="post" class="mb-5">
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <select class="form-select" name="nombre" id="nombre">
                    <option selected>Elige una opción</option>
                    <option value="YARLIN">YARLIN ADRIANA ACEVEDO JORDAN</option>
                    <option value="JULIAN">JULIAN CASTILLO ZUÑIGA</option>
                    <option value="ALEJANDRO">ALEJANDRO RINCON LOPEZ</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="descripcion" class="form-label">Asignación De Actividad</label>
                <input type="text" class="form-control" id="descripcion" name="descripcion">
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="fecha_asignacion" class="form-label">Fecha de Asignación</label>
                    <input type="date" class="form-control" id="fecha_asignacion" name="fecha_asignacion">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="fecha_vencimiento" class="form-label">Fecha de Vencimiento</label>
                    <input type="date" class="form-control" id="fecha_vencimiento" name="fecha_vencimiento">
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Crear Actividad</button>
        </form>

        <h2 class="mt-5 mb-4">Tabla de actividades para practicantes</h2>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>NOMBRE</th>
                        <th>ACTIVIDAD</th>
                        <th>FECHA DE INICIO</th>
                        <th>FECHA DE VENCIMIENTO</th>
                        <th>ESTADO</th>
                        <th>ACCIÓN</th>
                    </tr>
                </thead>
                <tbody>
                    {% for actividad in actividades %}
                    <tr>
                        <td>{{ actividad[0] }}</td>
                        <td>{{ actividad[1] }}</td>
                        <td>{{ actividad[2] }}</td>
                        <td>{{ actividad[3] }}</td>
                        <td>{{ actividad[4] }}</td>
                        <td>{{ actividad[5] }}</td>
                        <td>
                            <form action="{{ url_for('cambiar_estado', actividad_id=actividad[0]) }}" method="post" class="d-flex">
                                <select name="estado" class="form-select form-select-sm me-2">
                                    <option value="Pendiente" {% if actividad[5] == "Pendiente" %}selected{% endif %}>Pendiente</option>
                                    <option value="En Progreso" {% if actividad[5] == "En Progreso" %}selected{% endif %}>En Progreso</option>
                                    <option value="Completada" {% if actividad[5] == "Completada" %}selected{% endif %}>Completada</option>
                                </select>
                                <button type="submit" class="btn btn-primary btn-sm">Cambiar</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="text-center mt-4">
            <a href="/admin" class="btn btn-secondary">Regresar al inicio</a>
        </div>
    </div>
</body>
</html>