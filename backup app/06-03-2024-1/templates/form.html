<!DOCTYPE html>
<html>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/registro.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<head>
    <title>Registro de Usuarios</title>
</head>

<body class="container">
    <h2 class="titulo">FORMATO ENTREGA DE EQUIPOS Y PUESTOS DE TRABAJO-HOLA DR</h2>
    <form class="registro" action="{{ url_for('procesar_formulario2') }}" method="post">
        <label for="nombres_completos">Nombres completos:</label><br>
        <input type="text" id="nombres_completos" name="nombres_completos"><br>


        <label for="cedula">Cédula:</label><br>
        <input type="text" id="cedula" name="cedula"><br>

        <label for="cargo">Cargo:</label><br>
        <input type="text" id="cargo" name="cargo"><br>

        <label for="numero_puesto">Numero puesto:</label><br>
        <input type="text" id="numero_puesto" name="numero_puesto"><br>

        <label for="extension">Extension:</label><br>
        <input type="text" id="extension" name="extension"><br>

        <label for="ml_pc">ML Pc:</label><br>
        <input type="text" id="ml_pc" name="ml_pc"><br>

        <label for="ml_pantalla">ML Pantalla:</label><br>
        <input type="text" id="ml_pantalla" name="ml_pantalla"><br>

        <label for="mause">Mouse:</label><br>
        <input type="checkbox" id="mause" name="mause"><br>

        <label for="guaya">Guaya:</label><br>
        <input type="checkbox" id="guaya" name="guaya"><br>


        <label for="cargador">Cargador:</label><br>
        <input type="checkbox" id="cargador" name="cargador"><br>

        <label for="diadema">Diadema:</label><br>
        <input type="checkbox" id="diadema" name="diadema"><br>

        <!-- <label for="otros">otros:</label><br>
        <input type="text" id="otros" name="otros"><br> -->


        <label for="silla">Silla:</label><br>
        <input type="checkbox" id="silla" name="silla"><br>

        <label for="cubiculo">Cubiculo:</label><br>
        <input type="checkbox" id="cubiculo" name="cubiculo"><br>

        <label for="descansapies">Descansapies:</label><br>
        <input type="checkbox" id="descansapies" name="descansapies"><br>

        <label for="observaciones">Observaciones:</label><br>
        <input type="text" id="observaciones" name="observaciones"><br><hr>
        
        <input class="button" type="submit" value="Registrar">
    </form>
    <script>
        $(document).ready(function(){
            $('#cedula').on('input', function(){
                var cedula = $(this).val();
                if (cedula.length > 0) { // Verifica si el campo de cédula tiene algún valor
                    $.getJSON('/autocompletar', {cedula: cedula}, function(data){
                        if (data.error) {
                            alert(data.error);
                        } else {
                            $('#nombres_completos').val(data.nombres_completos);
                            $('#cargo').val(data.cargo);
                            // Deshabilitar los campos para evitar ediciones
                            // $('#nombres_completos').prop('readonly', true);
                            // $('#cargo').prop('readonly', true);
                        }
                    });
                } else {
                    // Si el campo de cédula está vacío, limpiar los campos autocompletados
                    $('#nombres_completos').val('');
                    $('#cargo').val('');
                    // Opcionalmente, deshabilitar los campos autocompletados
                    $('#nombres_completos').prop('readonly', false);
                    $('#cargo').prop('readonly', false);
                }
            });
        });
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
